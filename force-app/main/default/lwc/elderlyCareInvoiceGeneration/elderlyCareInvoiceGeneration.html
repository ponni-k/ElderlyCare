<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 07-25-2023
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->

<template>

    <lightning-card  variant="Narrow"  title="Generate Invoice" icon-name="standard:account">
        <!-- <lightning-button variant="brand" label="Generate Invoice"
                              title="Primary action"
                              onclick={generatePDF} 
                              class="slds-m-left_x-small"></lightning-button> -->




        <div class="invbutton">
          <lightning-radio-group name="radioGroup" options={options} value={value} type="button" onchange={handleInvoiceGenerate}></lightning-radio-group>
        </div>
                              
        <template if:true={isModalOpen}>
          
          <!-- Modal/Popup Box LWC starts here -->
          <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
              <div class="slds-modal__container">
                  <!-- Modal/Popup Box LWC header here -->
                  <header class="slds-modal__header">
                      <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                          <lightning-icon icon-name="utility:close"
                              alternative-text="close"
                              variant="inverse"
                              size="small" ></lightning-icon>
                          <span class="slds-assistive-text">Close</span>
                      </button>
                      <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Generate Invoice</h2>
                  </header>
                  <!-- Modal/Popup Box LWC body starts here -->
                  <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <div class="container">
                      <template if:true={isClientInvoice}>
                        <div class="slds-m-around_medium">
                          <c-custom-lookup-lwc icon-name="standard:user"
                            s-object-api-name="Account"
                            label="Client"
                            onlookupupdate={lookupRecord}
                            
                            placeholder="Search Client here..."></c-custom-lookup-lwc>
                        </div>
                      </template>
                      <div class="slds-m-around_large">
                        <div if:true={showSpinner} class="slds-is-relative">
                           <lightning-spinner
                               alternative-text="Loading..." variant="brand">
                           </lightning-spinner>
                        </div>
                      </div>
                      <template if:true={isProviderInvoice}>
                        <div class="slds-m-around_medium">
                          <c-custom-lookup-lwc icon-name="standard:account"
                            s-object-api-name="carer__c"
                            label="Service Provider"
                            onlookupupdate={lookupRecord}
                            placeholder="Search Service Provider here..."></c-custom-lookup-lwc>
                        </div>
                      </template>
                        <div class="slds-m-around_medium">
                            <lightning-input  type="date" name="stDt" label="From date" onchange={handleStartDate} ></lightning-input>
                        </div>
                        <div class="slds-m-around_medium">
                            <lightning-input  type="date" name="stDt" label="End date" onchange={handleEndDate} ></lightning-input>

                        </div>
                      </div>
                  </div>
                  <!-- Modal/Popup Box LWC footer starts here -->
                  <footer class="slds-modal__footer">
                      <button class="slds-button slds-button_neutral" onclick={closeModal} title="Cancel">Cancel</button>
                      <button class="slds-button slds-button_brand" onclick={generateInvoice} title="OK">OK</button>
                  </footer>
              </div>
          </section>
          <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
    </lightning-card>
</template>